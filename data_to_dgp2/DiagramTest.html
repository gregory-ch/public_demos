{{ block styles }}
<style>
 .otree-body { 
    font: 14px helvetica neue, helvetica, arial, sans-serif;
  }
  
  #cy {
  margin-left: auto;
  margin-right: auto;
  width: 400px;
  height: 200px;
  display: block;
  }
  #cy2 {
  margin-left: auto;
  margin-right: auto;
  width: 400px;
  height: 200px;
  display: block;
  }
  #info {
    color: #c88;
    font-size: 2em;
    width: 800px;
    height: 200px;
    display: block;
  margin-left: auto;
  margin-right: auto;
  }
</style>
{{ endblock }}

{{ block title }}
    Pick the edges and nodes
{{ endblock }}

{{ block content }}


<div >
  <p> That what was chosen  </p>

  <br />
</div>
<div id="cy"></div>
<br />
<p> That is the original dependencies (Data Generation Process)  </p>

  <br />
<div id="cy2"></div>

    {{ next_button }}




<script src="{{ static 'global/cytoscape.min.js' }}"> </script>


<script>
let array_edge = [];
var myStringArray = js_vars.edges;
var arrayLength = myStringArray.length;
  for (var i = 0; i < arrayLength; i++) {
    // console.log(myStringArray[i]);

    if (myStringArray[i].counter==1) array_edge.push({data:myStringArray[i]});
      }
var cy = cytoscape({
  container: document.getElementById('cy'),

  boxSelectionEnabled: false,
  autounselectify: true,

  style: cytoscape.stylesheet()



    .selector('node')
      .css({
        'content': 'data(name)',
        'text-valign': 'center',
        'color': 'black',
        // 'text-outline-width': 2,
        // 'text-outline-color': undefined,
        'background-color': '#666'
      })
    .selector(':selected')
      .css({
        'background-color': 'black',
        'line-color': 'black',
        'target-arrow-color': 'black',
        'source-arrow-color': 'black',
        'text-outline-color': 'black'
      })
    .selector('edge')
      .css({
        'width': 2,
        'line-color': '#ccc',
        'target-arrow-color': 'black',
        'target-arrow-shape': 'triangle',
        'curve-style': 'bezier',
        'line-style': 'solid'
      })
      .selector('edge[label]')
      .css({
        "label": "data(label)",
        "width": 3
      })
      .selector('layout')
      .css({
        'name': 'circle',
        'rows': 3,
        'cols': 2,
        'padding': 10,
      })
      ,


      
  elements: {
    nodes: js_vars.nodes,
    edges: array_edge
  },



});

var layout = cy.layout({
  name: 'circle'
});
layout.run();


var cy2 = cytoscape({
  container: document.getElementById('cy2'),

  boxSelectionEnabled: false,
  autounselectify: true,

  style: cytoscape.stylesheet()



    .selector('node')
      .css({
        'content': 'data(name)',
        'text-valign': 'center',
        'color': 'black',
        // 'text-outline-width': 2,
        // 'text-outline-color': undefined,
        'background-color': '#666'
      })
    .selector(':selected')
      .css({
        'background-color': 'black',
        'line-color': 'black',
        'target-arrow-color': 'black',
        'source-arrow-color': 'black',
        'text-outline-color': 'black'
      })
    .selector('edge')
      .css({
        'width': 2,
        'line-color': '#ccc',
        'target-arrow-color': 'black',
        'target-arrow-shape': 'triangle',
        'curve-style': 'bezier',
        'line-style': 'solid'
      })
      .selector('edge[label]')
      .css({
        "label": "data(label)",
        "width": 3
      })
      .selector('layout')
      .css({
        'name': 'circle',
        'rows': 3,
        'cols': 2,
        'padding': 10,
      })
      ,


      
  elements: {
    nodes: js_vars.nodes,
    edges: js_vars.edges_original
  },



});

var layout2 = cy2.layout({
  name: 'circle'
});
layout2.run();
// edges: [
//       { data: {counter:0, weight:0, id: 'XY', source: 'X', target: 'Y', label: ""} },
//       { data: {counter:0, weight:0, id: 'YX', source: 'Y', target: 'X', label: ""} },
//       { data: {counter:0, weight:0, id: 'YZ', source: 'Y', target: 'Z' , label: ""} },
//       { data: {counter:0, weight:0, id: 'XZ', source: 'X', target: 'Z' , label: ""} },
//       { data: {counter:0, weight:0, id: 'ZY', source: 'Z', target: 'Y' , label: ""} },
//       { data: {counter:0, weight:0, id: 'ZX', source: 'Z', target: 'X' , label: ""} },
//       // { data: {counter:0, weight:0, id: 'bc', source: 'P', target: 'S', label: ""} },
//     ]
//   },

</script>

{{ endblock }}
