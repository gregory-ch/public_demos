{{ block styles }}
<style>
    .otree-body {
        font: 14px helvetica neue, helvetica, arial, sans-serif;
        max-width: 600px
    }


    #cy {
        margin-left: auto;
        margin-right: auto;
        width: 400px;
        height: 200px;
        display: block;
    }


    #info {
        color: #c88;
        font-size: 2em;
        width: 800px;
        height: 200px;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
</style>

{{ endblock }}


{{ block title }}

{{ endblock }}


{{ block content }}
<div class="lang-container" style="text-align:right">
    <table>
        <col width="81%">
        <col width="19%">
        <tr>
            <td></td>
            <td style="border-radius: 8px; border: 1px solid #000; display: block; height: 34px">
                <link rel="stylesheet"
                      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"/>
                <span class="material-symbols-outlined" style="position: relative; top: 3px;">language</span>
                <select class="change-lang" style="border: 1px solid white; position: relative; bottom: 3px;">
                    <option value="en">Eng</option>
                    <option value="ru">Rus</option>
                </select>
            </td>
        </tr>
    </table>
</div>

<br>
<br>

<dl class="lng-tab12">This is the last demo material before moving on to the task. It presents exactly the same observations as the last demo, with two differences.</dl>
<dl class="lng-tab22">First, the mature seeds are still arranged by the same bed numbers, but there is no more color selection. Second, bed 1 in the table on the left and bed 3 in the table on the right are now on rocky soils. Note that although the bed numbers are not the same, the number of mature seeds distributed on the rocky beds is always the same on both planets.</dl>





<br>
<table style="width:100%;">
    <tr>
        <td  style="border:15px solid white;">




            <table id="observ" class="table table-striped" style="line-height: 0.8;">

                <tbody class="searchable">
                <tr style="text-align: center">
                    <td class="searchable"></td>
                    <td class="searchable">X
                        <br/>
                        <label><input id="filterx" type="checkbox">1</label>
                        <label><input id="filterx0" type="checkbox">0</label>
                        <div class="input-group"><span class="input-group-addon"></span>

                    </td>
                    <td class="searchable">Y
                        <br/>
                        <label><input id="filtery" type="checkbox">1</label>
                        <label><input id="filtery0" type="checkbox">0</label>

                </tr>

                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>0</td>
                </tr>

                <tr>
                    <td>2</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>3</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>4</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>5</td>
                    <td>0</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>6</td>
                    <td>0</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>7</td>
                    <td>0</td>
                    <td>0</td>
                </tr>

                <tr>
                    <td>8</td>
                    <td>0</td>
                    <td>0</td>
                </tr>

            </table>
        </td>


        <td style="border:15px solid white;">
            <table id="interv" class="table table-striped" style="line-height: 0.8;">

                <tbody class="searchable2">
                <tr style="text-align: center">
                    <td class="searchable2"></td>
                    <td class="searchable2">X
                        <br/>
                        <label><input id="filterx_i" type="checkbox">1</label>
                        <label><input id="filterx0_i" type="checkbox">0</label>
                        <div class="input-group"><span class="input-group-addon"></span>


                    </td>
                    <td class="searchable2">Y
                        <br/>
                        <label><input id="filtery_i" type="checkbox">1</label>
                        <label><input id="filtery0_i" type="checkbox">0</label>
                        <div class="input-group"><span class="input-group-addon"></span>

                </tr>
                <tr>
                    <td>1</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>2</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>3</td>
                    <td>1</td>
                    <td>0</td>
                </tr>

                <tr>
                    <td>4</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>5</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>6</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>7</td>
                    <td>1</td>
                    <td>1</td>
                </tr>

                <tr>
                    <td>8</td>
                    <td>1</td>
                    <td>1</td>
                </tr>
            </table>
        </td>


    </tr>
</table>

<script>
function crfunc(b1, b2) {
        if (b1) {
            return "0";
        } else if (b2) {
            return "1";
        } else {
            return "-1";
        }
    }


    $(document).ready(function () {
        (function ($) {
            $('#filter').keyup(function () {

                var rex = new RegExp($(this).val(), 'i');
                $('.searchable tr').hide();
                $('.searchable tr').filter(function () {
                    return rex.test($(this).text());
                }).show();

            });


            $('#filterx').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable tr').hide();
                    document.getElementById('filterx0').checked = false;
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== "0" &&
                            $(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery').checked, document.getElementById('filtery0').checked))
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery').checked, document.getElementById('filtery0').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }

            });


            $('#filterx0').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable tr').hide();
                    document.getElementById('filterx').checked = false;
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== "1" &&
                            $(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery').checked, document.getElementById('filtery0').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery').checked, document.getElementById('filtery0').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }

            });


            $('#filtery').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable tr').hide();
                    document.getElementById('filtery0').checked = false;
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx').checked, document.getElementById('filterx0').checked) &&
                            $(this).find('td').eq(2).text() !== "0");
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx').checked, document.getElementById('filterx0').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }

            });


            $('#filtery0').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable tr').hide();
                    document.getElementById('filtery').checked = false;
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx').checked, document.getElementById('filterx0').checked) &&
                            $(this).find('td').eq(2).text() !== "1");
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text(), $(this).find('td').eq(3).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx').checked, document.getElementById('filterx0').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqs.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }
            });


        }(jQuery));
    });


$(document).ready(function () {
        (function ($) {
            $('#filterx_i').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable2 tr').hide();
                    document.getElementById('filterx0_i').checked = false;
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== "0" &&
                            $(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery_i').checked, document.getElementById('filtery0_i').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery_i').checked, document.getElementById('filtery0_i').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }
            });


            $('#filterx0_i').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable2 tr').hide();
                    document.getElementById('filterx_i').checked = false;
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== "1" &&
                            $(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery_i').checked, document.getElementById('filtery0_i').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(2).text() !== crfunc(document.getElementById('filtery_i').checked, document.getElementById('filtery0_i').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }
            });

            $('#filtery_i').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable2 tr').hide();
                    document.getElementById('filtery0_i').checked = false;
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx_i').checked, document.getElementById('filterx0_i').checked) &&
                            $(this).find('td').eq(2).text() !== "0");
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx_i').checked, document.getElementById('filterx0_i').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }
            });

            $('#filtery0_i').on('change', function () {
                var out = [];
                var tab = 0;
                var filt_cut = 0;

                if (this.checked) {
                    $('.searchable2 tr').hide();
                    document.getElementById('filtery_i').checked = false;
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx_i').checked, document.getElementById('filterx0_i').checked) &&
                            $(this).find('td').eq(2).text() !== "1");
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';


                } else {
                    $('.searchable2 tr').filter(function () {
                        filt_cut = ($(this).find('td').eq(1).text() !== crfunc(document.getElementById('filterx_i').checked, document.getElementById('filterx0_i').checked));
                        if (filt_cut) {
                            out.push([$(this).find('td').eq(1).text(), $(this).find('td').eq(2).text()])
                        }
                        ;
                        return (filt_cut)
                    }).show();

                    var tab = Array.from(out.slice(1, out.length));
                    var transposed_tab = tab[0].map((_, colIndex) => tab.map(row => row[colIndex]));
                    out2 = [sum(transposed_tab[0]) / transposed_tab[0].length, sum(transposed_tab[1]) / transposed_tab[1].length];
                    freqsint.innerHTML = '<td style="width:20%">' + 'freq' + '</td><td style="width:40%">' + out2[0].toFixed(2) + '</td><td style="width:40%">' + out2[1].toFixed(2) + '</td><td>';
                }
            });
        }(jQuery));
    });

</script>

<script src="{{ static  'data_to_dgp/lang.js'  }}"></script>

<script src="{{ static  'data_to_dgp/utils.js'  }}"></script>

<div class="d-grid gap-2 col-6 mx-auto">
    <a class="btn btn-outline-secondary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
        SHOW INSTRUCTIONS
      </a>
    </div>
      <div class="collapse" id="collapseExample">
        <div style="text-align: center">
            <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vQfpoIUoXDowaEcC6CMAdC47D0FIHAROL9VAEuM55wTIt00YLXAiStHxL6C2j1aEBJdndxuwwzjw55R/embed?start=false&loop=true&delayms=60000" frameborder="0" width="720" height="441" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
        </div>
      </div>

{{ next_button }}
{{ endblock }}